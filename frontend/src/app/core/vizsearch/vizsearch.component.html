<mat-drawer-container>
  <mat-drawer mode="side" opened>
    <mat-card>
      <mat-card-content>
        <label>Group By</label>
        <div #groupBy class="filter">
          <mat-radio-group [required]="true" [(ngModel)]="this.dataModel.groupBy">
            <mat-radio-button value="categories">Categories</mat-radio-button>
            <mat-radio-button value="words">Words</mat-radio-button>
          </mat-radio-group>
        </div>
        <div #filters>
          <h4>Filters</h4>
          <div #yearFilter class="filter">
            <mat-checkbox [(ngModel)]="this.filters.yearEnabled">Filter by Year</mat-checkbox>
            <div class="filter">
              <mat-slider [disabled]="!this.filters.yearEnabled"
                          [min]="1774"
                          [max]="1781"
                          [step]="1"
                          [thumbLabel]="true"
                          [tickInterval]="1"
                          [(ngModel)]="this.dataModel.year">
              </mat-slider>
            </div>
          </div>
          <div #topWordsFilter class="filter">
            <mat-checkbox [(ngModel)]="this.filters.topWordsEnabled"></mat-checkbox>
            <span>Top </span><mat-form-field class="word-num"><input matInput [(ngModel)]="this.dataModel.topWords" [disabled]="!this.filters.topWordsEnabled" ></mat-form-field><span>words</span>
          </div>
          <div #bottomWordsFilter class="filter">
            <mat-checkbox [(ngModel)]="this.filters.bottomWordsEnabled"></mat-checkbox>
            <span>Words that appear less than </span><mat-form-field class="word-num"><input matInput [(ngModel)]="this.dataModel.bottomWords" [disabled]="!this.filters.bottomWordsEnabled" ></mat-form-field><span>times</span>
          </div>
          <div #keywordsFilter class="filter">
            <mat-checkbox [(ngModel)]="this.filters.keywordsEnabled">Only include entries with the follow keyword(s)</mat-checkbox>
            <mat-form-field class="keyword-filter">
              <input matInput placeholder="Keyword(s)" [(ngModel)]="this.dataModel.keywords" [disabled]="!this.filters.keywordsEnabled">
            </mat-form-field>
          </div>
          <div #categoriesFilter class="filter">
            <mat-checkbox [(ngModel)]="this.filters.categoriesEnabled" (change)="onEnableCategories($event)">Only include the following categories</mat-checkbox>
            <mat-form-field *ngIf="this.categoryData" class="category-list">
              <mat-select placeholder="Selected Categories" [(ngModel)]="this.dataModel.filteredCategories"
                          [disabled]="!this.filters.categoriesEnabled" multiple>
                <mat-option *ngFor="let c of this.categoryData" [value]="c.category">{{ c.category }}</mat-option>
              </mat-select>
            </mat-form-field>
            <!--<div *ngIf="this.categoryData" class="category-list">
              <mat-checkbox *ngFor="let c of this.categoryData" (change)="onCategoryCheck(c.category)"
                            [checked]="this.dataModel.filteredCategories.indexOf(c.category) > -1"
                            [value]="c.category" [disabled]="!this.filters.categoriesEnabled">{{ c.category }}</mat-checkbox>
            </div>-->
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions align="end">
        <button mat-raised-button color="primary" (click)="onSearch()">Search</button>
      </mat-card-actions>
    </mat-card>
  </mat-drawer>
  <mat-drawer-content>
    vis goes here
  </mat-drawer-content>
</mat-drawer-container>
